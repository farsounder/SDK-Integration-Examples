FROM ubuntu:jammy
WORKDIR /app
COPY . .
RUN apt-get update
RUN apt-get install -y g++ libzmq3-dev protobuf-compiler
RUN ./build_protos.sh
RUN g++ autogenerated/*.cc connect_to_sonasoft.cpp -L /usr/lib/x86_64-linux-gnu/ -lzmq -lprotobuf -o test_interface
CMD ["./test_interface"]
EXPOSE 61000-62000
